## 1.3.1 | Install Microsoft Fonts

1.  Navigate to the Microsoft URL and download the **English International** version of the Windows 11 ISO. 
2.  Rename it to `win11.iso`.
3.  Extract and install fonts:

```bash
cd ~/Downloads && \
7z e win11.iso sources/install.wim && \
7z e install.wim '1/Windows/Fonts/*.ttf' '1/Windows/Fonts/*.ttc' '1/Windows/System32/Licenses/neutral/*/*/license.rtf' -ofonts/

sudo install -d /usr/share/fonts/microsoft && \
sudo cp -r ~/Downloads/fonts/* /usr/share/fonts/microsoft/
```

---

## 1.3.2 | Setup Obsidian

1.  [Create a fine-grained Personal Access Token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-fine-grained-personal-access-token) on GitHub.
2.  Open Obsidian and select the cloned `AMD-Linux-Setup` repo folder as an existing vault.

> [!NOTE]
> You may need to manually reinstall the **Git** community plugin from settings. The installation script should have automated your credentials via the Git credential store.

---

## 1.3.3 | Install Affinity Software

Follow the GUI installation guide at the [AffinityOnLinux GitHub repository](https://github.com/ryzendew/AffinityOnLinux).

---

## 1.3.4 | Desktop Specifics

### Jellyfin Transcoding
Configure these settings in the Jellyfin Web UI:

- **Hardware acceleration:** VAAPI
- **VAAPI Device:** `/dev/dri/renderD128`
- **Options:** Select all hardware decoding options
- **Encoding:** Enable hardware encoding (HEVC and AV1)
- **Transcode path:** `/dev/shm/jellyfin`
- **Audio:** Boost (1), Stereo downmix (Dave750)
- **Queuing:** Max muxing queue size (8192)
- **Preset:** Auto

### Byparr Installation
Install dependencies and clone the repository:

```bash
yay -S chromium uv 
git clone https://github.com/ThePhaseless/Byparr
cd ~/Make/Byparr && uv sync
```

Create the systemd user service (`kate ~/.config/systemd/user/byparr.service`):

```ini
[Unit]
Description=Byparr (FlareSolverr Alternative)
After=network.target

[Service]
Type=simple
WorkingDirectory=%h/Make/Byparr
ExecStart=/usr/bin/uv run main.py
Restart=always
RestartSec=5

[Install]
WantedBy=default.target
```

Enable and verify:
```bash
systemctl --user daemon-reload
systemctl --user enable --now byparr.service
curl -I http://localhost:8191
```

> [!TIP]
> In **Prowlarr**, update the FlareSolverr API URL to `http://localhost:8191` and apply the tag `byparr`.

### Soularr Configuration
Edit `/opt/soularr/config/config.ini` to add your Lidarr API key:

```ini
[Lidarr]
api_key = [Insert Lidarr API from app]
host_url = http://localhost:8686
download_dir = /mnt/Media/Downloads/slskd/Complete/
disable_sync = False

[Slskd]
api_key = edf07c6dee06986eff33d2ba56093
host_url = http://localhost:5030
url_base = /
download_dir = /mnt/Media/Downloads/slskd/Complete/
delete_searches = False
stalled_timeout = 3600
```

### Lidarr Configuration
In the Lidarr Web UI:
1. Go to **Settings** > **Download Clients** > **Add Client (+)**.
2. Select **slskd**.
3. Add Remote Path Mapping:
   - **Host:** `localhost`
   - **Remote Path:** `/mnt/Media/Downloads/slskd/Complete/`
   - **Local Path:** `/mnt/Media/Downloads/slskd/Complete/`

### Sunshine Configuration
Custom scripts should be symlinked to `/usr/local/bin/`. Manually add these **Do/Undo** commands in the Sunshine Web UI:

| Profile | Do | Undo |
| :--- | :--- | :--- |
| **HDR** | `/usr/local/bin/sunshine_hdr enable` | `/usr/local/bin/sunshine_hdr disable` |
| **SDR** | `/usr/local/bin/sunshine_res enable` | `/usr/local/bin/sunshine_res enable` |
| **GPU Boost** | `sudo /usr/local/bin/sunshine_gpu_boost start` | `sudo /usr/local/bin/sunshine_gpu_boost stop` |

### Optional: Soularr Stability
To troubleshoot Soularr breakages:

```bash
# Check logs
sudo journalctl -u soularr.service -f

# Freeze requirements if stable
pip freeze > /opt/soularr/requirements.lock

# Fix breakages
sudo pip install --break-system-packages -r /opt/soularr/requirements.lock
```

---

## 1.3.5 | Laptop Specifics

### Power Management
Configure your specific preferences in KDE:
1. Open **System Settings**.
2. Navigate to **Energy Saving**.
3. Configure **AC Power**, **Battery**, and **Low Battery** settings.

---

### [Next â‡¢](../4-KDE-Customisation/4.1-Rules.md)

```
