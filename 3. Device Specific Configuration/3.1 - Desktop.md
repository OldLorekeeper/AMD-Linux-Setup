## 3.1.1 - Automated setup script

Run the desktop setup script. This installs specific packages, enables services, sets up placeholder configuration files, and applies desktop kernel parameters.

```
chmod +x ~/Obsidian/AMD-Linux-Setup/Scripts/desktop_setup.sh && ~/Obsidian/AMD-Linux-Setup/Scripts/desktop_setup.sh
```

## 3.1.2 - Post-script configuration

The script in `3.1.1` created several placeholder files. You must now edit them to add your personal keys and credentials.

#### 3.1.2.1 - Jellyfin `hideme` Script

Edit the script created at `~/Make/hideme_tag.py` and replace the `INSERT-API` and `INSERT-USERNAME` placeholders with your Jellyfin details.

```
kate ~/Make/hideme_tag.py
```

#### 3.1.2.2 - slskd Configuration

Edit the configuration file at `/etc/slskd/slskd.yml` to add your desired usernames and passwords.

```
kate /etc/slskd/slskd.yml
```

Restart the service after editing:

```
sudo systemctl restart slskd.service
```

#### 3.1.2.3 - Soularr Configuration

Edit the configuration file at `/opt/soularr/config/config.ini` to add your Lidarr API key.

```
kate /opt/soularr/config/config.ini
```

Find the `[Lidarr]` section and paste your API key:

```
[Lidarr]
api_key = [insert Lidarr API: Settings > General > API Key]
...
```

#### 3.1.2.4 - Lidarr UI Configuration

Navigate to your Lidarr web UI:

1. Go to `Settings` > `Download Clients` > `Add Client (+)`.
    
2. Select `slskd`.
    
3. Add remote path mapping:
    
    - Host: `localhost`
        
    - Remote Path: `/mnt/Media/Torrents/slskd/Complete`
        
    - Local Path: `/mnt/Media/Torrents/slskd/Complete/`
        

## 3.1.3 - Configure Sunshine Resolution Commands

This step must be done manually via the Sunshine web UI to set up resolution switching for streaming.

```
>> Kscreen-doctor -o
>> Review output and determine which numbered ‘mode’ corresponds to which resolution
>> Select application (i.e. Desktop / Steam Big Picture)
>> Add command
>> Do command: kscreen-doctor output.DP-1.mode.[number]
>> Undo command: kscreen-doctor output.DP-1.mode.[number]
```

## 3.1.4 - Overclock GPU

Configure GPU overclock settings using the LACT application.

[https://github.com/ilya-zlobintsev/LACT](https://github.com/ilya-zlobintsev/LACT)

**Settings:**

```
>> Watt: 300  
>> Performance level: Manual  
>> Power level mode: 3D_FULL_SCREEN  
>> Max GPU clock: 2900  
>> Max VRAM: 2600  
>> Voltage offset: 0
```

## 3.1.5 - Mount media drive

This step requires the unique UUID of your media drive. Use `lsblk -f` to find the `UUID` of your drive.

Edit `/etc/fstab` to add an entry for your drive.

```
kate /etc/fstab
```

Add the following line, replacing the `UUID` with your drive's identifier:

```
# /dev/nvme0n1p1
UUID=a52c191f-74b1-491d-9513-4b2e92c6f151 	/mnt/Media 	auto 	nosuid,nodev,nofail,x-gvfs-hide 	0 0
```

## 3.1.6 - Optional: Soularr Stability Management

These steps are for troubleshooting if Soularr breaks after an update.

Run following command to see verbose log for soularr service:

```
sudo journalctl -u soularr.service -f
```

Stay stable:

```
>>> Freeze requirements:
	pip freeze > /opt/soularr/requirements.lock
>>> When Soularr breaks, run:
	sudo pip install --break-system-packages -r /opt/soularr/requirements.lock
>>> Optional quick check:
	cat >/usr/local/bin/check-soularr-deps <<'SH'
	#!/bin/sh
	python - <<'PY'
	import requests, pydantic, schedule
	print("Soularr deps OK")
	PY
	SH
	sudo chmod +x /usr/local/bin/check-soularr-deps
	/usr/local/bin/check-soularr-deps
```


<br/>
 
### [Next ⇢](../4.%20KDE%20Settings/4.1%20-%20Window%20Rules.md)
