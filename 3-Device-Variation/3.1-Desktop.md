
## 3.1.1 - Byparr Installation

Install dependencies (`chromium` and `uv`) and clone the repository:

```
yay -S chromium uv 
git clone https://github.com/ThePhaseless/Byparr
cd ~/Make/Byparr 
uv sync
```

Create the systemd user service:

```
mkdir -p ~/.config/systemd/user
kate ~/.config/systemd/user/byparr.service
```

Paste the following configuration:

```
[Unit]
Description=Byparr (FlareSolverr Alternative)
After=network.target

[Service]
Type=simple
WorkingDirectory=%h/Make/Byparr
# Use uv to run the application within its managed environment
ExecStart=/usr/bin/uv run main.py
Restart=always
RestartSec=5

[Install]
WantedBy=default.target
```

Enable the service and verify connectivity:

```
systemctl --user daemon-reload
systemctl --user enable --now byparr.service
# Verify
curl -I http://localhost:8191
```

Prowlarr Configuration:

Navigate to Settings > Indexers > Options and update the FlareSolverr API URL to: `http://localhost:8191` and tag `byparr`

<br/>
## 3.1.2- Soularr Configuration

Edit the configuration file at `/opt/soularr/config/config.ini` to add your Lidarr API key.

```
kate /opt/soularr/config/config.ini
```

Find the section and paste the following over existing `[Lidarr]` and `[Slskd]` sections:

```
[Lidarr]
api_key = [Insert Lidarr API from app]
host_url = http://localhost:8686
download_dir = /mnt/Media/Downloads/slskd/Complete/
disable_sync = False

[Slskd]
api_key = edf07c6dee0dc36986eff33d2ba56093
host_url = http://localhost:5030
url_base = /
download_dir = /mnt/Media/Downloads/slskd/Complete/
delete_searches = False
stalled_timeout = 3600
```

<br/>

## 3.1.3 - Lidarr Configuration

Navigate to your Lidarr web UI:

1. Go to `Settings` > `Download Clients` > `Add Client (+)`.
    
2. Select `slskd`.
    
3. Add remote path mapping:
    
    - Host: `localhost`
        
    - Remote Path: `/mnt/Media/Downloads/slskd/Complete/`
        
    - Local Path: `/mnt/Media/Downloads/slskd/Complete/`
        

<br/>

## 3.1.5 - Sunshine Configuration

The necessary `MONITOR`, `STREAM_MODE` and `DEFAULT_MODE` elements for custom Sunshine scripts symlinked to `/usr/local/bin/` should have been configured by `desktop_setup.zsh`.

You must manually add relevant `Do` and `Undo` commands in Sunshine Web UI for each application (see below)

**HDR and Resolution Change**

| Do                                             | Undo                                              |
| ---------------------------------------------- | ------------------------------------------------- |
| `/usr/local/bin/sunshine_hdr enable`           | `/usr/local/bin/sunshine_hdr disable`             |

**SDR and Resolution Change**

| Do                                   | Undo                                 |
| ------------------------------------ | ------------------------------------ |
| `/usr/local/bin/sunshine_res enable` | `/usr/local/bin/sunshine_res enable` |

**GPU Boost**

| Do                                             | Undo                                              |
| ---------------------------------------------- | ------------------------------------------------- |
| `sudo /usr/local/bin/sunshine_gpu_boost start` | ```sudo /usr/local/bin/sunshine_gpu_boost stop``` |

<br/>


## 3.1.6 - Optional

**Soularr Stability Management**

Follow these steps to troubleshoot Soularr breakages

Run following command to see verbose log for soularr service:

```
sudo journalctl -u soularr.service -f
```

Stay stable:

```
>>> Freeze requirements:
	pip freeze > /opt/soularr/requirements.lock
>>> When Soularr breaks, run:
	sudo pip install --break-system-packages -r /opt/soularr/requirements.lock
>>> Optional quick check:
	cat >/usr/local/bin/check-soularr-deps <<'SH'
	#!/bin/sh
	python - <<'PY'
	import requests, pydantic, schedule
	print("Soularr deps OK")
	PY
	SH
	sudo chmod +x /usr/local/bin/check-soularr-deps
	/usr/local/bin/check-soularr-deps
```


<br/>
 
### [Next â‡¢](../4-KDE-Customisation/4.1-Rules.md)
