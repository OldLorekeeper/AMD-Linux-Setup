## 2.1.1 - Create folders and clone repo

```
bash <(curl -sL "https://raw.githubusercontent.com/OldLorekeeper/AMD-Linux-Setup/main/Scripts/home_setup.sh")
```

<sub>Note: Repo cloned to ~/Obsidian for future use (See 2.5) </sub>

<br/>

## 2.1.2 - Install Microsoft fonts

```
https://www.microsoft.com/en-gb/software-download/windows11
```

Rename iso in ~/Downloads:

```
win11.iso
```
 
Extract fonts:

```
cd ~/Downloads && \
7z e win11.iso sources/install.wim && \
7z e install.wim '1/Windows/Fonts/*.ttf' '1/Windows/Fonts/*.ttc' '1/Windows/System32/Licenses/neutral/*/*/license.rtf' -ofonts/
```

Copy to system folder:

```
sudo install -d /usr/share/fonts/microsoft && \
sudo cp -r ~/Downloads/fonts/* /usr/share/fonts/microsoft/
```

<br/>

## 2.1.2 - Install and configure oh-my-zsh

Paste following command in terminal:

```
# Install oh-my-zsh for the primary user (unattended)
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

# Install oh-my-zsh for root user (unattended)
sudo sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

# Remove default root files (if they exist)
sudo rm -f /root/.zshrc
sudo rm -rf /root/.oh-my-zsh

# Symlink the user's config for root
sudo ln -s $HOME/.oh-my-zsh /root/.oh-my-zsh
sudo ln -s $HOME/.zshrc /root/.zshrc
```

Paste following command in terminal to install plugins:

```
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions && \
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting && \
git clone https://github.com/MichaelAquilina/zsh-you-should-use.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/you-should-use

```

Paste following command in terminal to customise .zshrc:

```
# Set the correct plugin list
sed -i 's/^plugins=(git)$/plugins=(git archlinux zsh-autosuggestions zsh-syntax-highlighting you-should-use)/' ~/.zshrc

# Add aliases and custom git function to the end of the file
echo -e "\n# --- Custom Aliases and Functions ---" >> ~/.zshrc
tee -a ~/.zshrc > /dev/null << 'EOF'

alias mkinit="sudo mkinitcpio -P"
alias mkgrub="sudo grub-mkconfig -o /boot/grub/grub.cfg"

function git() {
    # Colour Codes
    YELLOW='\033[1;33m'
    NC='\033[0m'

    if [[ "$EUID" -eq 0 ]]; then
        # If running as root (e.g., sudo git), use system git without modification
        command git "$@"
        return
    fi

    # Only intercept if:
    # 1. Command is 'clone' ($1)
    # 2. URL is provided ($2)
    # 3. NO target directory is provided ($3 is empty)
    if [[ "$1" == "clone" && -n "$2" && -z "$3" ]]; then
        target_dir=$(pwd)
        default_dir=~/Make

        # Clone into ~/Make ONLY if the current directory is $HOME
        if [[ "$target_dir" == "$HOME" ]]; then
            echo -e "${YELLOW}Auto-cloning to ~/Make...${NC}"
            command git clone "$2" "$default_dir/$(basename "$2" .git)"
        else
            command git clone "$2"
        fi
    else
        command git "$@"
    fi
}
EOF
```

<sub> Note: shell function ensures `git clone` always clones repo to ~/Make folder, unless running as sudo or other diectory specified </sub>
 
### [Next â‡¢](2.2%20-%20Install%20Microsoft%20Fonts.md)
